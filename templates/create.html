<!DOCTYPE html>
{% extends "layout.html" %}
{% block content %}
<form class="child" action="/materials" method="POST" name="create">
  <input type="hidden" name="csrf" value={{ session.csrf_token }} />
  <h1>Luo uusi oppimateriaali</h1>
  <div class="create">Nimi</div>
  <input id="name" class="create" name="name" />
  <div class="create">Kuvaus</div>
  <input class="create" name="description" />
  <div class="create">Kategoria</div>
  <input class="create" name="category" />
  <button class="create" onclick="validate()">Luo uusi</button>
  <div id="message" class="create" style="display: none;"></div>
</form>
<script>
  const validate = () => {
    event.preventDefault()
    name = get("name").value
    const element = get("message")
    if (name.trim().length < 4) setMessage(element, "Oppimateriaalin nimi liian lyhyt. Lyhin sallittu pituus (4).")
    else document.create.submit()
  }
</script>
<style>
  h3 {
    margin-top: 5px;
    margin-bottom: 5px;
  }
  div.create {
    font-size: 130%;
    padding-top: 5px;
    padding-bottom: 5px;
  }
  input.create {
    font-size: 130%;
  }
  button.create {
    margin-left: 10px;
    padding-left: 30px;
    padding-right: 30px;
    font-size: 130%;
    cursor: pointer;
    background-color: rgb(255, 220, 226);
  }
  button.create:hover {
    background-color: rgb(179, 179, 179);
  }
  #message {
    color: red;
  }
</style>
{% endblock %}